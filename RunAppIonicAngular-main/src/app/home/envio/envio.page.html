<ion-header>
  <ion-toolbar>
    <ion-title>RUN-APP</ion-title>
    <div><br></div>
    <ion-buttons slot="end">
      <ion-button (click)="toggleMenu()">
        Menú
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<!--ion-header>
  <ion-toolbar>
    <ion-title>DETALLES</ion-title>
    <ion-buttons slot="end">
      <ion-back-button defaultHref="home" color="primary" size="large"
        (click)="actualizarContadorSalida()"></ion-back-button>
      VOLVER
    </ion-buttons>
    <div><br></div>

  </ion-toolbar>
</ion-header-->
<ion-content class="ion-padding">

  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ng-container *ngIf="envio.estado === 'pendiente'">
    <ion-toolbar>
      <ion-title>DETALLES</ion-title>
      <ion-buttons slot="end">
        <ion-back-button defaultHref="home" color="primary" size="large"
          (click)="actualizarContadorSalida()"></ion-back-button>
        VOLVER
      </ion-buttons>
      <div><br></div>

    </ion-toolbar>
    <ion-card color="primary">
      <img alt="Imagen de Envío" src="https://ionicframework.com/docs/img/demos/card-media.png" />
      <ion-card-header>
        <ion-card-subtitle>Estado: {{ envio.estado }}</ion-card-subtitle>
        <div><br></div>
        <ion-card-subtitle>Hay {{ contadorActualEntrada }} Riders revisando este envio</ion-card-subtitle>
        <ion-card-title>
          Descripción: <b>{{ envio.descripcion }}</b>
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-item lines="none">
          <ion-icon name="location-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Desde:</b> {{ envio.direccionOrigen }}
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-icon name="flag-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Hasta:</b> {{ envio.direccionDestino }}
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-icon name="document-text-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Tipo de Envío:</b> {{ envio.tipoEnvio }}
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-icon name="cash-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Valor:</b> ${{ envio.valorFinal }}
          </ion-label>
        </ion-item>
        <ion-button expand="block" color="tertiary" size="large" shape="round" (click)="aceptarEnvio()">
          ACEPTAR
        </ion-button>
      </ion-card-content>
    </ion-card>
  </ng-container>

  <ng-container *ngIf="envio.estado === 'aceptado'">
    <ion-toolbar>
      <ion-title>DETALLES</ion-title>
      <ion-buttons slot="end">
        <ion-back-button defaultHref="home" color="primary" size="large"></ion-back-button>
        VOLVER
      </ion-buttons>
      <div><br></div>

    </ion-toolbar>
    <ion-card color="primary">
      <img alt="Imagen de Envío" src="https://ionicframework.com/docs/img/demos/card-media.png" />
      <ion-card-header>
        <ion-card-subtitle>Estado: {{ envio.estado }}</ion-card-subtitle>
        <ion-card-title>
          Descripción: <b>{{ envio.descripcion }}</b>
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-item lines="none">
          <ion-icon name="location-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Desde:</b> {{ envio.direccionOrigen }}
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-icon name="flag-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Hasta:</b> {{ envio.direccionDestino }}
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-icon name="document-text-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Tipo de Envío:</b> {{ envio.tipoEnvio }}
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-icon name="cash-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Valor:</b> ${{ envio.valorFinal }}
          </ion-label>
        </ion-item>
        <ion-button expand="block" color="tertiary" size="large" shape="round" (click)="comenzarEnvio()">
          Comenzar
        </ion-button>
      </ion-card-content>
    </ion-card>
  </ng-container>
  <ng-container *ngIf="envio.estado === 'enCamino'">
    <ion-toolbar>
      <ion-title>DETALLES</ion-title>
      <ion-buttons slot="end">
        <ion-back-button defaultHref="home" color="primary" size="large"></ion-back-button>
        VOLVER
      </ion-buttons>
      <div><br></div>

    </ion-toolbar>
    <ion-card color="primary">
      <img alt="Imagen de Envío" src="https://ionicframework.com/docs/img/demos/card-media.png" />
      <ion-card-header>
        <ion-card-subtitle>Estado: {{ envio.estado }}</ion-card-subtitle>
        <ion-card-title>
          Descripción: <b>{{ envio.descripcion }}</b>
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-item lines="none">
          <ion-icon name="location-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Desde:</b> {{ envio.direccionOrigen }}
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-icon name="flag-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Hasta:</b> {{ envio.direccionDestino }}
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-icon name="document-text-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Tipo de Envío:</b> {{ envio.tipoEnvio }}
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-icon name="cash-outline" slot="start"></ion-icon>
          <ion-label>
            <b>Valor:</b> ${{ envio.valorFinal }}
          </ion-label>
        </ion-item>
        <ion-button expand="block" color="tertiary" size="large" shape="round" (click)="entregarEnvio()">
          ENTREGAR
        </ion-button>
      </ion-card-content>
    </ion-card>
  </ng-container>
  <ion-list *ngIf="mostrarMenu" class="menu-list">
    <ion-item (click)="navigate('perfil')">Perfil</ion-item>
    <ion-item (click)="navigate('contacto')">Contacto</ion-item>
    <ion-item (click)="navigate('faq')">Preguntas Frecuentes</ion-item>
    <ion-item (click)="logout()">Cerrar Sesión</ion-item>
  </ion-list>
</ion-content>


<ion-list *ngIf="mostrarMenu" class="menu-list">
  <ion-item (click)="navigate('perfil')">Perfil</ion-item>
  <ion-item (click)="navigate('contacto')">Contacto</ion-item>
  <ion-item (click)="navigate('faq')">Preguntas Frecuentes</ion-item>
  <ion-item (click)="logout()">Cerrar Sesión</ion-item>
</ion-list>


<ion-footer>
  <ion-toolbar>
    <ion-segment>
      <ion-segment-button value="home" (click)="navigate('home')">
        <ion-label>Home</ion-label>
      </ion-segment-button>
      <ion-segment-button value="wallet" (click)="navigate('wallet')">
        <ion-label>Wallet</ion-label>
      </ion-segment-button>
      <ion-segment-button value="indicadores" (click)="navigate('indicadores')">
        <ion-label>Indicadores</ion-label>
      </ion-segment-button>
      <ion-segment-button value="mi-cuenta" (click)="navigate('myacc')">
        <ion-label>Mi cuenta</ion-label>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-footer>